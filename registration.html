<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Recreation Park</title>
    <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Titillium+Web:400,300,700&amp;subset=latin,latin-ext" type="text/css" />
    <link rel="stylesheet" href="./css/bootstrap-ui.css" type="text/css" />
    <script src="https://code.jquery.com/jquery-3.1.1.min.js"></script>

    <script type="text/javascript">
    // var server = 'http://ec2-54-186-188-213.us-west-2.compute.amazonaws.com:5000';
    
    displaySuccess = function() {
      $('#alert-error').hide();
      $('#alert-success').show();
    }

    displayFailure = function() {
      $('#alert-error').show();
      $('#alert-success').hide();
    }

    // Click function for "Add Sensor" submit.
      $('#user_registration_submit').click(function() {
        $.ajax({
          url: 'http://127.0.0.1:5000/user/register',
          type: 'POST',
          method: 'POST',
          crossDomain: true,
          data: {
            email: $('#login_username').val(),
            password: $('#login_password').val(),
            role: $('#login_role').val()
          },
          dataType: 'jsonp',
          success: function(data, status, jqXhr) {
            // Activate first tab.
            displaySuccess();
          },
          error: function(data, status, error) {
            // Do nothing.
            displayFailure();
          },
        })
      });
</script>
  </head>

  <body class="site has-navbar-fixed-top">

    <header role="banner" id="top" class="site-header">
      <nav class="navbar navbar-fixed-top navbar-primary">
        <div class="container">
          <div class="navbar-header">
            <a href="login.html" class="navbar-brand offset-right-large" title="Smart City Sensing">
              <span class="hidden-sm">Recreation Park</span>
            </a>
          </div>
        </div>
      </nav>
    </header>

    <main role="main" class="site-content aligner">
      <div class="aligner-item">
        <div class="container">

          <div class="box center-block offset-bottom-large">
            <h1 class="h4 page-header text-center offset-bottom">Registration</h1>

            <!-- TODO: Connect to Lamba here -->
            <form method="post" action="">

              <!-- Role -->
              <div class="form-group">
                <label class="control-label required" for="login_role">Role</label>
                <select type="text" id="login_role" name="login[role]" class="form-control">
                  <option value="vta_admin">User</option>
                  <option value="service_provider">Admin</option>
                </select>
              </div>

              <!-- E-mail -->
              <div class="form-group">
                <label class="control-label required" for="login_username">E-mail</label>
                <input type="email" id="login_username" name="login[username]" class="form-control" />
              </div>

              <!-- Password -->
              <div class="form-group">
                <label class="control-label required" for="login_password">Password</label>
                <input type="password" id="login_password" name="login[password]" class="form-control" />
              </div>

              <!-- Re-enter password -->
              <div class="form-group">
                <label class="control-label required" for="login_re_password">Re-enter password</label>
                <input type="password" id="login_repassword" name="login[re_password]" class="form-control" />
              </div>

              <!-- Submit -->
              <div class="form-group">
                <button type="submit" id="user_registration_submit" class="btn btn-primary btn-raised btn-block">
                  Sign Up
                </button>
              </div>
            </form>
          </div>

        </div>
      </div>
    </main>

  </body>
</html>
